<p class="h4">
  Discount management
</p>
<hr>
<div class="table-responsive" style="max-height: 80vh;overflow: auto;">
  <table class="table table-bordered">
    <thead class="thead-dark">
      <th scope="col">#</th>
      <th scope="col">Code</th>
      <th scope="col">Discount</th>
      <th scope="col">Valid from</th>
      <th scope="col">Expire</th>
      <th scope="col" class="text-center">Valid</th>
      <th scope="col" class="text-center">Enabled</th>
    </thead>
    <tbody>
      <tr *ngFor="let d of disconts; let i = index">
        <td class="text-center">{{ i+1 }}</td>
        <td class="text-left" style="cursor: pointer;" (click)="openCouponView(d)">{{ d.discount_code }}</td>
        <td class="text-left">{{ d.discount_description }}</td>
        <td class="text-left">{{ d.discount_valid_from |date: 'dd-MMM-yy' }}</td>
        <td class="text-left">{{ d.discount_valid_thru |date: 'dd-MMM-yy' }}</td>
        <td class="text-center" *ngIf="d.discount_valid; else noValid">
          <img src="../../../assets/icons/Check_green_icon.svg.png" style="max-width: 20px;cursor: pointer;"
            (click)="toggleValid(d.id, d.discount_valid)">
        </td>
        <ng-template #noValid>
          <td class="text-center">
            <img src="../../../assets/icons/baseline-remove-24px.svg" style="max-width: 20px;cursor: pointer;"
              (click)="toggleValid(d.id, d.discount_valid)">
          </td>
        </ng-template>

        <td class="text-center" *ngIf="d.enabled; else disableDiscount"><img
            src="../../../assets/icons/Check_green_icon.svg.png" style="max-width: 20px;cursor: pointer;"
            (click)="toggleEnable(d.id, d.enabled)">
        </td>
        <ng-template #disableDiscount>
          <td class="text-center">
            <img src="../../../assets/icons/baseline-remove-24px.svg" style="max-width: 20px;cursor: pointer;"
              (click)="toggleEnable(d.id, d.enabled)">
          </td>
        </ng-template>
      </tr>
    </tbody>
  </table>
</div>
